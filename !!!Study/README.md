# 笔记

## HTTP协议、HTTPS协议

### HTTP协议 

**参考** [HTTP 协议入门](http://www.ruanyifeng.com/blog/2016/08/http.html)

![HTTP](https://github.com/Sanchez3/MyProject/blob/master/!!!Study/http.jpg)

- 超文本传输协议，不仅传输文字、HTML页面，还能传输图像、视频、二进制文件……

- 基于TCP/IP协议（[传输控制协议](https://zh.wikipedia.org/wiki/TCP)/[因特网协议](https://zh.wikipedia.org/wiki/IP)）的应用层协议

  - TCP/IP参考模型：网络访问层-互联网层-传输层-应用层
  - 应用层协议还包文件传输协议（FTP）、电子邮件传输协议（SMTP）、域名服务（DNS，把主机名映射到网络地址）……

- 客户端和服务器的通信格式，默认使用80端口

- 目前版本 **HTTP/2**

  - **HTTP/0.9** GET index.html，建立链接—>客户端请求网页—>服务器发送完毕—>关闭TCP链接
  - **HTTP/1.0** 每个TCP链接只能发送一个请求（添加`Connection`字段，该解决方法非标准）

    - 传输任何格式的内容
    - GET命令、POST命令、HEAD命令
    - 头信息（HTTP header），用来描述元数据
    - 状态码
  - **HTTP/1.1** 同一TCP连接中，请求按次序进行。
    - 持久链接，TCP连接默认不关闭，一段时间内无活动，自动关闭
    - 管道机制，同一TCP连接中，发送多个请求
    - `Content-Length`字段，区分数据包归属
    - 分块传输编码，`Transfer-Encoding`字段，回应的数据块数量未定

### HTTP/2

- 二进制协议，头信息和数据体都是二进制，并且统称为"帧"（frame）：头信息帧和数据帧。，解析方便。
- 多工，一个连接里，客户端和浏览器可以同时发多个请求或回应，避免了["队头堵塞"](https://zh.wikipedia.org/wiki/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E)（Head-of-line blocking）。
- 数据流，每个请求或回应的所有数据包，称为一个数据流（stream），客户端发出ID奇数，服务器发出ID偶数。可设优先级。
- 头消息压缩，头消息使用`gzip`或`compress`压缩后再发送。客户端和服务器维护头信息表，建立索引，防止重复。
- 服务器推送，未经请求，主动发资源。



### HTTP状态码
200 - 请求成功，301 - 资源（网页等）被永久转移到其它URL，404 - 请求的资源（网页等）不存在，500 - 内部服务器错误

| 分类   | 分类描述                    |
| ---- | ----------------------- |
| 1**  | 信息，服务器收到请求，需要请求者继续执行操作  |
| 2**  | 成功，操作被成功接收并处理           |
| 3**  | 重定向，需要进一步的操作以完成请求       |
| 4**  | 客户端错误，请求包含语法错误或无法完成请求   |
| 5**  | 服务器错误，服务器在处理请求的过程中发生了错误 |




